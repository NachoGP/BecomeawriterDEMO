<body id="page-top">
  <mat-drawer-container class="example-container" autosize>
    <mat-drawer #drawer class="example-sidenav" mode="side">
      <div class="menu-wrapper">

        <span class="d-none d-lg-block">
          <img class="logo-img img-fluid mx-auto mb-2" src="../../assets/img/logo-be.png" alt="" />
        </span>
        <div class="d-flex justify-content-center">
          <button type="button" mat-button (click)="drawer.toggle()" class="menu-btn">
            <mat-icon svgIcon="menu_close" matTooltip="Cerrar MenÃº" [matTooltipShowDelay]="500"
              matTooltipPosition="right">
            </mat-icon>
          </button>
        </div>
        <div id="navbarSupportedContent">
          <ul *ngIf="propuesta.tipo === 'propuesta1'" class="navbar-nav">
            <h3 class="theme-proposal">Tu Propuesta</h3>
            <h4>GÃ‰NERO:</h4>
            <p class="theme-selector">{{ propuesta.objeto.genero }}</p>
            <span class="interliner">-</span>
            <h4>PERSONAJE:</h4>
            <p class="theme-selector">{{ propuesta.objeto.personaje }}</p>
            <span class="interliner">-</span>
            <h4>SUSTANTIVO:</h4>
            <p class="theme-selector">{{ propuesta.objeto.sustantivo }}</p>
            <span class="interliner">-</span>
            <h4>LUGAR:</h4>
            <p class="theme-selector">{{ propuesta.objeto.localizacion }}</p>
            <span class="interliner">-</span>
            <h4>TEMA:</h4>
            <p class="theme-selector">{{ propuesta.objeto.tema }}</p>
          </ul>
          <ul *ngIf="propuesta.tipo === 'propuesta2'" class="navbar-nav">
            <h3 class="theme-proposal">Tu Propuesta</h3>
            <p class="theme-selector">{{ propuesta.objeto.completa }}</p>
            <p *ngIf="propuesta.objeto.imagen !== null" class=" propose prop-img zoom">
              <img class="lateral-image" [src]="propuesta.objeto.imagen" />
            </p>
          </ul>
        </div>
        <div class="d-flex justify-content-center">
          <button type="button" mat-button (click)="exitModal()" class="menu-btn">
            <mat-icon svgIcon="logout" matTooltip="Salir" [matTooltipShowDelay]="500" matTooltipPosition="below">
            </mat-icon>
          </button>
        </div>
      </div>
    </mat-drawer>

    <div class="container-fluid p-0">
      <div class="example-sidenav-content">
        <button type="button" mat-button (click)="drawer.toggle()">
          <mat-icon svgIcon="menu_open" matTooltip="Mostrar propuesta" [matTooltipShowDelay]="100"
            matTooltipPosition="right">
          </mat-icon>
        </button>
      </div>
      <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="experience">
        <div class="my-auto">
          <div class="resume-item d-flex flex-column flex-md-row mb-5">
            <section>
              <form [formGroup]="formCreateStory">
                <div class="resume-item d-flex flex-column flex-md-row">
                  <div class="resume-content mr-auto animated fadeIn slow ">
                    <div class="d-flex">
                      <div class="col-6">
                        <h1>Escritor: {{ getUser }}</h1>
                      </div>
                      <div class="col-6">
                        <mat-accordion>
                          <mat-expansion-panel>
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                                Instrucciones de Inicio
                              </mat-panel-title>
                              <mat-panel-description>
                                Â¿Por dÃ³nde empiezo?
                              </mat-panel-description>
                            </mat-expansion-panel-header>

                            <p>
                              ðŸ‘‰ <span class="nrel">IMPORTANTE:</span> Para poder
                              consultar/leer tus relatos debes comenzar
                              <span class="nrel">ESCRIBIENDO UN NUEVO RELATO </span>ðŸ˜‰
                            </p>
                            <br />

                            <p>
                              ðŸ‘‰ No te preocupes por tu nivel. BecomeaWriter estÃ¡ diseÃ±ado
                              para todos los niveles, desde Principiante a Miguel de
                              Cervantes.
                            </p>
                            <br />

                            <p>
                              ðŸ‘‰ Es totalmente gratuito. Entrena y desarrolla tu creatividad
                              para escribir historias de ficciÃ³n.
                              <span class="nrel">Tus lÃ­mites serÃ¡n el tiempo y tu propia imaginaciÃ³n.</span>
                            </p>
                            <br />
                            <p>
                              ðŸ‘‰ <span class="nrel">RECUERDA: </span> Puedes utilizar toda
                              la informaciÃ³n de cada propuesta o sÃ³lo aquellas que se
                              ajusten a tu relato.
                            </p>
                            <br />
                            <p>Â¡LetÂ´s Write!</p>
                          </mat-expansion-panel>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                                CorreciÃ³n & DesafÃ­o
                              </mat-panel-title>
                              <mat-panel-description>
                                <p>Â¿QuÃ© necesito saber?</p>
                              </mat-panel-description>
                            </mat-expansion-panel-header>
                            <p>
                              ðŸ‘‰ <span class="nrel">RELATOS: </span>Una vez guardado tu
                              relato, quedarÃ¡ pendiente de valoraciÃ³n por parte de nuestros
                              expertos. SÃ³lo serÃ¡ accesible para tÃ­. Seremos muy benÃ©bolos y constructivos.<br />
                              En apenas unas horas, recibiras un comentario profesional de
                              tus escritos. Si tu relato no te ha convencido, podrÃ¡ modificarlo o borrarlo para siempre,
                              tras la valoraciÃ³n de nuestros profesores.
                            </p>
                            <br />
                            <p>
                              ðŸ‘‰ <span class="nrel">DESAFIO: </span>La modalidad participar en un
                              <span class="nrel">'DesafÃ­o'</span>
                              <span> implica que tu relato competirÃ¡ con el resto de participantes. SerÃ¡ de carÃ¡cter
                                pÃºblico. Si resultas ganador del desafÃ­o recibirÃ¡s un regalo. Â¡Te informaremos por email si
                                eres el elegido!.
                              </span>
                            </p>
                            <p>Â¡LetÂ´s Write!</p>
                            <br />
                          </mat-expansion-panel>
                        </mat-accordion>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-flex">
                  <div class="col-6">
                    <h3 class="md-5 mr-2 ml-0">TÃ­tulo:</h3>
                    <div class="form-group shadow-textarea">
                      <input [(ngModel)]="relato.titulo" formControlName="titulo"
                        [ngClass]="{'is-invalid': formCreateStory.get('titulo').touched && formCreateStory.get('titulo').invalid }"
                        autocomplete="off" class="form-control z-depth-1 input-title" id="exampleFormControlTextarea4"
                        rows="1" />
                      <div class="invalid-feedback">
                        <div>El campo es obligatorio.</div>
                      </div>
                    </div>
                  </div>
                  <div class="col-6 d-flex justify-content-center mt-4">
                    <div class="col-6">
                      <div class="iconContainer">
                        <button type="button" mat-button (click)="handleClickGuardar()"
                          [disabled]="formCreateStory.invalid">
                          <mat-icon svgIcon="save" matTooltip="Guardar relato" [matTooltipShowDelay]="400"
                            [matTooltipClass]="{ 'tool-tip-custom': true }" matTooltipPosition="right"
                            [ngClass]="formCreateStory.invalid ? 'disabled-icon' : 'enabled' "></mat-icon>
                        </button>
                      </div>

                    </div>
                    <div class="col-6 pr-0">
                      <mat-card class="time-box">
                        <div class="col-3">
                          <img id="clock" src="../../assets/img/nachosand-clock.png" />
                        </div>
                        <div class="col-9 pr-0">
                          <h3 class="crono" *ngIf="!ilimitado">

                            {{ this.runTime ? secondsToMinutesSeconds(count): this.tiempo + ":00"}}
                          </h3>
                          <h3 class="crono" *ngIf="ilimitado">Sin LÃ­mite</h3>
                        </div>
                      </mat-card>
                    </div>

                  </div>
                </div>
                <div class="col-md-12">
                  <div class="table-responsive">
                    <div class="form-group purple-border">
                      <label for="exampleFormControlTextarea4">Cuando quieras:</label>
                      <div class="form-group shadow-textarea">
                        <textarea formControlName="story" [(ngModel)]="relato.texto"
                          class="form-control z-depth-1 custom-textarea" placeholder="Ãncipit..."
                          id="exampleFormControlTextarea4" rows="10"
                          [ngClass]="{'is-invalid': formCreateStory.get('story').touched && formCreateStory.get('story').invalid }"
                          autocomplete="off"></textarea>
                        <div class="invalid-feedback">
                          <div>El relato es un campo obligatorio.</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>

            </section>
          </div>
        </div>
      </section>
    </div>
  </mat-drawer-container>
</body>