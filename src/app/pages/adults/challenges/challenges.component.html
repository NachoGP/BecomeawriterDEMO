<body id="page-top">
  <mat-drawer-container class="example-container" autosize>
    <mat-drawer #drawer class="example-sidenav" mode="side">
      <a class="navbar-brand js-scroll-trigger">
        <span class="d-none d-lg-block">
          <img class="img-fluid mx-auto mb-2 logo" src="../../assets/img/logo-be.png" alt="" (click)="goToMainMenu()" />
        </span>
      </a>
      <div class="d-flex justify-content-center">
        <button type="button" mat-button (click)="drawer.toggle()" class="menu-btn">
          <mat-icon svgIcon="menu_close" matTooltip="Cerrar Menú" [matTooltipShowDelay]="500"
            matTooltipPosition="below">
          </mat-icon>
        </button>
      </div>
      <br />
      <div class="d-flex justify-content-center">
        <button type="button" mat-button (click)="newStory()" class="menu-btn">
          <mat-icon svgIcon="add_white" matTooltip="Nuevo Relato" [matTooltipShowDelay]="500"
            matTooltipPosition="below">
          </mat-icon>
        </button>
      </div>
      <br />
      <div class="d-flex justify-content-center">
        <button type="button" mat-button (click)="newStory()" class="menu-btn" [routerLink]="['/tips']">
          <mat-icon svgIcon="tips" matTooltip="Consejos Prácticos" [matTooltipShowDelay]="500"
            matTooltipPosition="below">
          </mat-icon>
        </button>
      </div>
      <br />
      <div class="d-flex justify-content-center">
        <button type="button" mat-button (click)="goToMainMenu()" class="menu-btn">
          <mat-icon svgIcon="menu-main-white" matTooltip="Menu Inicio" [matTooltipShowDelay]="500"
            matTooltipPosition="below">
          </mat-icon>
        </button>
      </div>
      <br />
      <a class="btn btn-outline-primary back" [routerLink]="['/allstories']">Publicados</a>
      <br />
      <div class="d-flex justify-content-center log-menu">
        <button type="button" mat-button (click)="exitModal()" class="menu-btn">
          <mat-icon svgIcon="logout" matTooltip="Salir" [matTooltipShowDelay]="500" matTooltipPosition="below">
          </mat-icon>
        </button>
      </div>
    </mat-drawer>

    <div class="container-fluid p-0">
      <div class="example-sidenav-content d-flex challenge-header">
        <button type="button" mat-button (click)="drawer.toggle()">
          <mat-icon svgIcon="menu_open"></mat-icon>
        </button>
        <h4 class="mt-2 ml-2">Bienvenido@ a los "DESAFÍOS", {{ getUser }}</h4>
      </div>
      <section class="resume-section p-2 p-lg-3 mt-2 d-flex flex-column" id="experience">
        <div class="my-auto">
          <div class="resume-content mr-auto animated fadeIn slow d-flex">

            <div class="col-8 p-4 d-flex flex-column justify-content-center">
              <h3>DESAFIOS EN CURSO</h3>
              <h3 class="cat">General</h3>
              <p class="mx-auto pb-2"> Cualquiera de tus relatos puede participar en esta categoría</p>
              <div class="d-flex no-wrap">
                <form [formGroup]="challengeFormcat5">
                  <div class="col-12">
                    <mat-card class="challenge-card">
                      <mat-card-header>
                        <div mat-card-avatar class="challenge-header-image"></div>
                        <mat-card-title>5 min</mat-card-title>
                        <mat-card-subtitle>Hasta 12 Mayo <mat-icon class="calendar" svgIcon="calendar"></mat-icon>
                        </mat-card-subtitle>
                      </mat-card-header>
                      <mat-card-content>
                        <img class="challenge-img" mat-card-image src="../../../../assets/img/icons/folder.svg">
                      </mat-card-content>
                      <mat-card-actions class="mx-auto">
                        <mat-form-field>
                          <mat-label *ngIf="this.arrayRelatos5catId==0">
                            <mat-icon svgIcon="vacio"> </mat-icon>
                          </mat-label>
                          <mat-label *ngIf="this.arrayRelatos5catId!=0">Seleccionar Relato</mat-label>
                          <mat-select formControlName="cat5Id" (click)="CheckExistStory5cat()">
                            <mat-option *ngFor="let cat5 of arrayRelatos5catId" [value]="cat5.titulo">
                              {{ cat5.titulo }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <button [disabled]="challengeFormcat5.invalid" (click)="signup5()" mat-button>INSCRIBIR RELATO</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                </form>
                <form [formGroup]="challengeFormcat15">
                  <div class="col-12">
                    <mat-card class="challenge-card">
                      <mat-card-header>
                        <div mat-card-avatar class="challenge-header-image"></div>
                        <mat-card-title>15 min</mat-card-title>
                        <mat-card-subtitle>Hasta 13 Mayo <mat-icon class="calendar" svgIcon="calendar"></mat-icon>
                        </mat-card-subtitle>
                      </mat-card-header>
                      <mat-card-content>
                        <img class="challenge-img" mat-card-image src="../../../../assets/img/icons/folder.svg">
                      </mat-card-content>
                      <mat-card-actions class="mx-auto">
                        <mat-form-field>
                          <mat-label *ngIf="this.arrayRelatos15catId==0">
                            <mat-icon svgIcon="vacio"></mat-icon>
                          </mat-label>
                          <mat-label *ngIf="this.arrayRelatos15catId!=0">Seleccionar Relato</mat-label>
                          <mat-select formControlName="cat15Id" (click)="CheckExistStory15cat()">
                            <mat-option *ngFor="let cat15 of arrayRelatos15catId" [value]="cat15.titulo">
                              {{ cat15.titulo }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <button [disabled]="challengeFormcat15.invalid" (click)="signup15()" mat-button>INSCRIBIR RELATO</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                </form>
                <form [formGroup]="challengeFormcatNoLimit">
                  <div class="col-12">
                    <mat-card class="challenge-card">
                      <mat-card-header>
                        <div mat-card-avatar class="challenge-header-image"></div>
                        <mat-card-title>Sin Límite</mat-card-title>
                        <mat-card-subtitle>Hasta 4 Abril <mat-icon class="calendar" svgIcon="calendar"></mat-icon>
                        </mat-card-subtitle>
                      </mat-card-header>
                      <mat-card-content>
                        <img class="challenge-img" mat-card-image src="../../../../assets/img/icons/folder.svg">
                      </mat-card-content>
                      <mat-card-actions class="mx-auto">
                        <mat-form-field>
                          <mat-label *ngIf="this.arrayRelatosNoLimitcatId==0">
                            <mat-icon svgIcon="vacio"></mat-icon>
                          </mat-label>
                          <mat-label *ngIf="this.arrayRelatosNoLimitcatId!=0">Seleccionar Relato</mat-label>
                          <mat-select formControlName="catnoId" (click)="CheckExistStoryNoLimit()">
                            <mat-option *ngFor="let catnoId of arrayRelatosNoLimitcatId" [value]="catnoId.titulo">
                              {{catnoId.titulo}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <button mat-button [disabled]="challengeFormcatNoLimit.invalid" (click)="signupNolimit()" >INSCRIBIR RELATO</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                </form>
              </div>
              <app-winners></app-winners>
              <div class="mt-3">
                <button (click)="goToMainMenu()" class="go-back" mat-button>
                  <mat-icon svgIcon="navigate_before">
                  </mat-icon> VOLVER
                </button>
              </div>
            </div>
            <div class="col-4 d-flex p-4 flex-column">
              <div class="col-12 d-flex flex-column">
                <h3>Desafío PRO</h3>
                <p class="mx-auto pb-2">Te ofrecemos una propuesta común para todos los participantes</p>
                <mat-card class="col-10 mx-auto challenge-card">
                  <mat-card-header>
                    <div mat-card-avatar class="challenge-header-image"></div>
                    <mat-card-title>Sin Límite</mat-card-title>
                    <mat-card-subtitle>hasta 18 Junio <mat-icon class="calendar" svgIcon="calendar"></mat-icon>
                    </mat-card-subtitle>
                  </mat-card-header>
                  <mat-card-content>
                    <img class="challenge-img" mat-card-image src="../../../../assets/img/icons/folder.svg">
                  </mat-card-content>
                  <mat-card-actions>
                    <button mat-button (click)="seeProposal()">VER PROPUESTA</button>
                    <button mat-button (click)="signupPro()" >ESCRIBIR YA</button>
                  </mat-card-actions>
                </mat-card>
              </div>

            </div>
          </div>
        </div>
      </section>
    </div>
  </mat-drawer-container>
</body>